<div class="wrapper wrapper-content pd0" ng-controller="stockConversionController">
    <div class="row wrapper border-bottom white-bg page_heading1 bgc8">
        <div class="col-lg-10">
            <h4 class="page_heading_title fc1 fwb">Stock Conversion</h4>
            <ol class="breadcrumb fc1">
                <li>
                    <a href="index.html"><strong>Home</strong></a>
                </li>
                <li class="active">
                    <strong>Stock Conversion</strong>
                </li>
            </ol>
        </div>
        <div class="col-lg-2 text-right">
            <button type="button" ui-sref="inventory.addstockconversion" class="btn btn-warning m-t-sm ttu"><i class="fa fa-plus m-r-xs"></i> Add</button>
            <!-- <button type="button" ng-click="addOrUpdateStockConversion()" class="btn btn-warning m-t-sm ttu"><i class="fa fa-plus m-r-xs"></i> Add</button> -->
        </div>
    </div>
    <div class="wrapper wrapper-content animated fadeInRight pd0">
        <div class="row mg0 pd10">
            <div class="col-lg-4">
                <div class="form-group">
                    <label class="col-lg-4 control-label fwb mgt10">Branch :</label>
                    <div class="col-lg-8 pos_rel">
                        <select placeholder="Company Branch name" class="form-control bgc7 fwb" ng-model="stockConversionkData.companyBranchId" required >
                            <option value="" ng-selected>SELECT BRANCH</option>
                            <option ng-repeat="cbl in companyBranchList" value="{{cbl.id}}" ng-selected="stockConversionkData.companyBranchId==cbl.id">{{cbl.entityName}}</option>
                        </select> 
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="form-group">
                    <label class="col-lg-4 text-center control-label mgt10">Type :</label>
                    <div class="col-lg-8">
                        <select class="form-control fwb" ng-model="stockConversionkData.type" required>
                            <option value="" ng-selected>SELECT TYPE</option>
                            <option value="STOCKCONVERION">STOCKCONVERSION</option>
                        </select> 
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="text-center">
                    <button type="button" class="btn btn-w-m btn-primary" ng-disabled="branchUserForm.$invalid" ng-click="getStockConversionList(stockConversionkData)">Proceed</button>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 pd0">
                <div class="ibox float-e-margins">
                    <!-- <div class="ibox-title">
                        <div class="row">
                            <div class="col-sm-10">
                                <h3>Order Stock Point List</h3>
                            </div>
                            <div class="col-sm-2">
                                
                            </div>
                        </div>
                    </div> -->
                    <div class="ibox-content">
                        <table datatable="" class="table table-striped table-bordered table-hover dataTables-example" id="stockConversionList">
                            <thead>
                                <tr>
                                    <th>Created Date</th>
                                    <th>Modified Date</th>
                                    <!-- <th>Actions</th> -->
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="addStockConversionModal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="ibox-title bgc8">
                    <h5 class="fc1">Stock Conversion <span ng-if="!orderStockData.id">Creation</span><span ng-if="orderStockData.id">Update</span></h5>
                   <!-- <a ng-click="close()" class="pull-right fc1" data-dismiss="modal"><i class="fa fa-times"></i></a> -->
                   <button type="button" class="close fc1 opacityi" data-dismiss="modal">&times;</button>
                </div>
                <div class="ibox-content" ng-init="getcompanyBranchList()">
                    <!-- <form class="form-horizontal ng-pristine ng-valid ng-submitted" name="orderStockForm">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label class="col-lg-4 text-center control-label ">Branch Name <span class="text-danger">*</span> :</label>
                                    <div class="col-lg-8">
                                        <select class="form-control fwb" ng-model="orderStockData.companyBranchId" name="entityName" required>
                                            <option ng-repeat="cl in companyBranchList" value="{{cl.id}}">{{cl.entityName}}</option>
                                        </select> 
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label class="col-lg-4 text-center control-label ">Stock Point <span class="text-danger">*</span> :</label>
                                    <div class="col-lg-8">
                                        <select class="form-control fwb" ng-model="orderStockData.stockPointId" name="name" required>
                                            <option ng-repeat="st in stockPointList" value="{{st.id}}" ng-selected="orderStockData.stockPointId == st.id">{{st.name}}</option>
                                        </select> 
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label class="col-lg-4 text-center control-label ">Approval Status<span class="text-danger">*</span> :</label>
                                    <div class="col-lg-8">
                                        <select class="form-control fwb" ng-model="orderStockData.orderType" required>
                                            <option value="POS">IM-POS</option>
                                            <option value="ECOMMERCE">E-COMMERCE</option>
                                        </select> 
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12 text-center">
                                <button class="btn btn-primary" type="submit" ng-disabled="orderStockForm.$invalid" ng-click="createOrUpdateOrderStockPoint(orderStockData)"><span ng-if="!orderStockData.id" >Save</span><span ng-if="orderStockData.id">Update</span></button>
                                <button class="btn btn-white" data-dismiss="modal">Cancel</button>
                            </div>
                        </div>
                    </form> -->
                    <div class="row">
            <div class="col-lg-12 pd0 ibox-content" ng-repeat="(key,value) in conversionListArr">
                <!-- <div class="ibox float-e-margins"> -->
                    <!-- <div class="ibox-title">
                        <div class="row">
                            <div class="col-sm-10">
                                <h3>Existng Stock</h3>
                            </div>
                        </div>
                    </div> -->
                    <!-- <div class=""> -->
                    <div class="remove_conver" ng-click="removeRow($index)"><a><i class="fa fa-trash"></i></a></div>
                        <div class="col-lg-12 border-bottom p-xs fw100 m-t-sm" style="font-weight: 600;">
                            <div class="col-lg-2 p-r-xxs p-l-xxs">From BatchNo</div>
                            <!-- <div class="col-lg-2 p-r-xxs p-l-xxs">From Branch</div> -->
                            <div class="col-lg-2 p-r-xxs p-l-xxs">From SKU</div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">From SKU QTY</div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">From SKU UOM</div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">Stock Point</div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">From Unit</div>
                        </div>
                        <div class="col-lg-12 bg-default m-t-xs p-xs" style="background: #a9a9a914;">
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <select class="form-control" ng-model="value.fromBatch" placeholder="Select Batch">
                                    <option ng-repeat="scb in stockConversionBatches" value="{{scb.id}}">{{scb.name}}</option>  
                                </select>
                            </div>
                            <!-- <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <input type="text" class="form-control" ng-model="value.fromBranch"/>
                            </div> -->
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <select class="form-control" ng-model="value.fromSku" placeholder="Select Products">
                                    <option ng-repeat="scp in stockConversionProducts" value="{{scp.id}}">{{scp.name}}</option>  
                                </select>
                            </div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <input type="text" class="form-control" placeholder="Enter Product Quantity" ng-model="value.fromSkuQty" />
                            </div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <select class="form-control" ng-model="value.fromSkuUom" placeholder="Select UOM">
                                    <option ng-repeat="scu in stockConversionUOMs" value="{{scu.id}}">{{scu.unitName}} - {{scu.shortName}}</option>  
                                </select>
                            </div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <select class="form-control" ng-model="value.fromStockPoint" placeholder="Select Stock Point">
                                    <option ng-repeat="scsp in stockConversionStockPoint" value="{{scsp.id}}">{{scsp.name}}</option>  
                                </select>
                            </div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <input type="text" class="form-control" placeholder="Enter Units" ng-model="value.fromUnits" />
                            </div>
                        </div>
                        <!-- <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label>Quantity</label> 
                                    <input type="text"  class="form-control">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label>Unit of Measurement</label> 
                                    <input type="text"  class="form-control">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label>Batch No</label> 
                                    <input type="text"  class="form-control">
                                </div>
                            </div>
                        </div> -->
                        <!-- <div class="row border-bottom">
                            <div class="col-sm-12"><h4 class="pull-left font-bold">Conversion Product</h4></div> 
                        </div> -->
                        <div class="col-lg-12 border-bottom p-xs fw100 m-t-sm" style="font-weight: 600;">
                            <div class="col-lg-2 p-r-xxs p-l-xxs">To BatchNo</div>
                            <!-- <div class="col-lg-2 p-r-xxs p-l-xxs">To Branch</div> -->
                            <div class="col-lg-2 p-r-xxs p-l-xxs">To SKU</div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">To SKU QTY</div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">To SKU UOM</div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">Stock Point</div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">From Unit</div><!-- 
                            <div class="col-lg-1 p-r-xxs p-l-xxs">Tax/unit</div>
                            <div class="col-lg-1 p-r-xxs p-l-xxs">Total Amount</div> -->
                        </div>

                        <div class="col-lg-12 p-xs bg-default m-t-xs" style="background: #a9a9a914;">
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <select class="form-control" ng-model="value.toBatch" placeholder="Select Batch">
                                    <option ng-repeat="scb in stockConversionBatches" value="{{scb.id}}">{{scb.name}}</option>  
                                </select>
                            </div>
                            <!-- <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <input type="text" class="form-control" ng-model="value.toBranch"/>
                            </div> -->
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <select class="form-control" ng-model="value.toSku" placeholder="Select Products">
                                    <option ng-repeat="scp in stockConversionProducts" value="{{scp.id}}">{{scp.name}}</option>  
                                </select>
                            </div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <input type="text" class="form-control" placeholder="Enter Product Quantity" ng-model="value.toSkuQty" />
                            </div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <select class="form-control" ng-model="value.toSkuUom" placeholder="Select UOM">
                                    <option ng-repeat="scu in stockConversionUOMs" value="{{scu.id}}">{{scu.unitName}} - {{scu.shortName}}</option>  
                                </select>
                            </div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <select class="form-control" ng-model="value.toStockPoint" placeholder="Select Stock Point">
                                    <option ng-repeat="scsp in stockConversionStockPoint" value="{{scsp.id}}">{{scsp.name}}</option>  
                                </select>
                            </div>
                            <div class="col-lg-2 p-r-xxs p-l-xxs">
                                <input type="text" class="form-control" placeholder="Enter Units" ng-model="value.toUnits" />
                            </div>
                            <!-- <div class="col-lg-1 p-r-xxs p-l-xxs">
                                <div class="col-lg-10 p-r-xxs p-l-xxs"><input type="text" name="" class="form-control"></div>
                                <div class="col-lg-2 p-r-xxs p-l-xxs c-p"><i class="fa fa-trash-o icon-mid"></i></div>
                            </div> -->
                            <button ng-click="saveConversion(value)">Proceed</button>
                        </div>
                        <!-- <div class="row">
                            <div class="col-sm-12 text-center m-t-lg m-b-lg">
                            
                            </div>
                        </div>  -->                                 
                    <!-- </div> -->
                <!-- </div> -->
            </div>

            <div class="col-lg-12 m-t-xs p-l-xxs p-r-xxs">
                <div class="col-lg-4">
                    <button class="btn btn-sm btn-primary" ng-click="newRowAdded()"><i class="fa fa-plus m-r-xs"></i>Add Row</button>
                </div>
                <!-- <div class="col-lg-2 font-bold">Total</div>
                <div class="col-lg-2 font-bold text-left">0</div>
                <div class="col-lg-2"></div>
                <div class="col-lg-2"></div>
                <div class="col-lg-2"></div>
                <div class="col-lg-2 font-bold text-left">0</div> -->
            </div>
        </div>
                </div>
            </div>
        </div>
    </div>

</div>